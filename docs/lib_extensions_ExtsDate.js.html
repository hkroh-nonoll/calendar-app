

<!DOCTYPE html>
<html lang="en">
<head>
    
    <meta charset="utf-8">
    <title>JSDoc: lib/extensions/ExtsDate.js</title>

    <script src="https://cdn.jsdelivr.net/gh/google/code-prettify@master/loader/run_prettify.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="./build/entry.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link href="https://fonts.googleapis.com/css?family=Muli:100,400,700|Oswald:300|Inconsolata,700" rel="stylesheet">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css" integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/" crossorigin="anonymous">
    <link type="text/css" rel="stylesheet" href="https://jmblog.github.io/color-themes-for-google-code-prettify/themes/tomorrow-night.min.css">
    <link type="text/css" rel="stylesheet" href="styles/app.min.css">
    <link type="text/css" rel="stylesheet" href="styles/iframe.css">
</head>

<body>
    <div id="stickyNavbarOverlay"></div>
    <div class="top-navbar">
        <div class="container">
            <nav class="navbar" role="navigation" aria-label="main navigation">
                <div class="navbar-brand">
                    
                    
                        <h1 class="navbar-item">Documentation</h1>
                    
                    <a id="hamburger" role="button" class="navbar-burger" aria-label="menu" aria-expanded="false">
                        <span aria-hidden="true"></span>
                        <span aria-hidden="true"></span>
                        <span aria-hidden="true"></span>
                    </a>
                </div>
                
            </nav>
        </div>
    </div>
    <div class="container">
        <div class="columns">
            <div class="column is-3" id="sidebarNav">
                <div class="sidebar">
                    <nav>
                        <h2><a href="index.html">Home</a></h2><div class="category"><h3>Classes</h3><ul><li><a href="ExtsDate.html">ExtsDate</a></li></ul><h3>Global</h3><ul><li><a href="global.html#DATE">DATE</a></li><li><a href="global.html#DATE/DAY_NAME_WEEK">DATE/DAY_NAME_WEEK</a></li><li><a href="global.html#DATE/MAX_DATES">DATE/MAX_DATES</a></li><li><a href="global.html#DATE/START_DAY_WEEK">DATE/START_DAY_WEEK</a></li><li><a href="global.html#DATE/UNIT">DATE/UNIT</a></li><li><a href="global.html#DATE/WEEK_SIZE">DATE/WEEK_SIZE</a></li><li><a href="global.html#deepFreeze">deepFreeze</a></li><li><a href="global.html#getFullName">getFullName</a></li><li><a href="global.html#User">User</a></li></ul></div>
                    </nav>
                </div>
            </div>
            <div class="column is-9-desktop">
                <div class="content" id="main-content-wrapper">
                    <header class="page-title">
                        <p>Source</p>
                        <h1>lib/extensions/ExtsDate.js</h1>
                    </header>
                    
                    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import { UNIT, WEEK_SIZE, MAX_DATES, START_DAY_WEEK } from '../constants/date';

/**
 * Date / DateTime 처리용 class 
 * @class ExtsDate
 */
class ExtsDate {

  /**
   * after - before 으로 값 비교하여 반환
   * @static
   * @param {string | Date} before
   * @param {string | Date} after
   * @returns {number}
   * @memberof ExtsDate
   */
  static diff(before, after) {
    const beforDate = new Date(before);
    const afterDate = new Date(after);

    return afterDate.getTime() - beforDate.getTime();
  }

  /**
   * 날짜 포맷에 맞춰 문자열 반환 처리
   * TODO - 임시 처리, format 추가 처리 고려
   * @static
   * @param {object} data
   * @param {string | Date} data.date date 객체
   * @param {string} data.format 변환 포맷
   * @default
   *  { date = new Date(), format = '' }
   * @returns {string}
   * @memberof ExtsDate
   */
  static format({ date = new Date(), format = '' }) {
    const dt = new Date(date);
    const year = dt.getFullYear();
    const month = `${dt.getMonth() + 1}`.padStart(2, '0');
    
    return `${year}년 ${month}월`;
  }

  /**
   * date 객체에서, 월 / 주 / 일 값을 변경하여 date 객체로 반환
   * @static
   * @param {object} data
   * @param {string | Date} data.date date 객체
   * @param {number} data.value 가감값
   * @param {string} data.unit 단위값
   * @default
   *  { date = new Date(), value = 1, unit = UNIT.DAY }
   * @see DATE/UNIT
   * @returns {Date}
   * @memberof ExtsDate
   */
  static add({ date = new Date(), value = 1, unit = UNIT.DAY }) {
    const dt = new Date(date);

    switch (unit) {
      case UNIT.MONTH:
        dt.setDate(1);
        dt.setMonth(dt.getMonth() + value);
        break;

      case UNIT.WEEK:
        dt.setDate(dt.getDate() + value);
        break;

      case UNIT.DATE:
        dt.setDate(dt.getDate() + value);
        break;

      case UNIT.HOUR:
      default:
        dt.setHours(dt.getHours() + value);
        break;
    }

    return dt;
  }

  /**
   * date 값에 월 값을 가감
   * @static
   * @param {object} { date = new Date(), value = 1 }
   * @returns {Date}
   * @memberof ExtsDate
   */
  static addMonth({ date = new Date(), value = 1 }) {
    return ExtsDate.add({ date, value, unit: UNIT.MONTH });
  }

  /**
   * date 값에 주 값을 가감
   * @static
   * @param {object} { date = new Date(), value = 1 }
   * @returns {Date}
   * @memberof ExtsDate
   */
  static addWeek({ date = new Date(), value = 1 }) {
    return ExtsDate.add({ date, value: value * 7, unit: UNIT.WEEK });
  }

  /**
   * date 값에 일자 값을 가감
   * @static
   * @param {object} { date = new Date(), value = 1 }
   * @returns {Date}
   * @memberof ExtsDate
   */
  static addDate({ date = new Date(), value = 1 }) {
    return ExtsDate.add({ date, value, unit: UNIT.DATE });
  }

  /**
   * date 값에 시간 값을 가감
   * @static
   * @param {object} { date = new Date(), value = 1 }
   * @returns {Date}
   * @memberof ExtsDate
   */
  static addHour({ date = new Date(), value = 1 }) {
    return ExtsDate.add({ date, value, unit: UNIT.HOUR });
  }

  /**
   * 월의 시작일 반환
   * @static
   * @param {object} { date = new Date() }
   * @returns {Date}
   * @memberof KDate
   */
  static startDateOfMonth({ date = new Date() }) {
    const startDate = new Date(date);
    startDate.setDate(1);
    startDate.setHours(0, 0, 0, 0);  
    return startDate;
  }

  /**
   * 월의 시작일, 요일 반환
   * @static
   * @param {object} { date = new Date() }
   * @returns {number}
   * @memberof KDate
   */
  static startDayOfMonth({ date = new Date() }) {
    const startDate = ExtsDate.startDateOfMonth(date);
    return startDate.getDay();
  }

  /**
   * 월의 마지막날, Date 객체 반환
   * @static
   * @param {object} { date = new Date() }
   * @returns {Date}
   * @memberof KDate
   */
  static endOfMonth({ date = new Date() }) {
    const dt = new Date(date);
    const endDate = new Date(dt.getFullYear(), dt.getMonth() + 1, 0);
    return endDate;
  }

  /**
   * 월의 마지막날, 일자 반환
   * @static
   * @param {object} { date = new Date() }
   * @returns {number}
   * @memberof ExtsDate
   * @example
   * ```javascript
   * import ExtsDate from 'lib/extensions/ExtsDate';
   * const endDateOfMonth = ExtsDate.endDateOfMonth({ date: '2019-12' });
   * console.table(endDayOfMonth); // 31
   * ```
   */
  static endDateOfMonth({ date = new Date() }) {
    const endDate = ExtsDate.endOfMonth(date);
    return endDate.getDate();
  }

  /**
   * 월의 마지막날, 요일 반환
   * @static
   * @param {object} { date = new Date() }
   * @returns {number}
   * @memberof ExtsDate
   * @example
   * ```javascript
   * import ExtsDate from 'lib/extensions/ExtsDate';
   * const endDayOfMonth = ExtsDate.endDayOfMonth({ date: '2019-12' });
   * console.table(endDayOfMonth); // 2 - 화
   * ```
   */
  static endDayOfMonth({ date = new Date() }) {
    const endDate = ExtsDate.endOfMonth(date);
    return endDate.getDay();
  }

  /**
   * 월의 시작일, 마지막일을 6주 단위로 구성되도록하여 배열로 반환
   * @static
   * @param {object} { date = new Date() }
   * @returns {Array}
   * @memberof ExtsDate
   * @example
   * ```javascript
   * import ExtsDate from 'lib/extensions/ExtsDate';
   * const monthToArray = ExtsDate.monthToArray({ date: '2019-12-31' });
   * console.table(monthToArray);
   * ```
   */
  static monthToArray({ date = new Date() }) {
    const start = ExtsDate.startDateOfMonth({ date });
    const startIndex = START_DAY_WEEK.findIndex(v => v === start.getDay());

    const monthArray = [];
    let cursor = ExtsDate.addDate({ date: start, value: -startIndex });
    let week;

    Array(MAX_DATES).fill(0).forEach((_, index) => {
      if (!(index % WEEK_SIZE)) {
        week = monthArray[Math.round(index / WEEK_SIZE)] = [];
      }
      week.push(cursor);
      cursor = ExtsDate.addDate({ date: cursor, value: 1 });
    });
    return monthArray;
  }
}

export default ExtsDate;
</code></pre>
        </article>
    </section>




                </div>
            </div>
        </div>
    </div>


<footer class="footer">
    <div class="content has-text-centered">
        <p>Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.6.3</a> on Wed Jan 01 2020 00:01:00 GMT+0900 (GMT+09:00)</p>
        <p class="sidebar-created-by">
            <a href="https://github.com/SoftwareBrothers/better-docs" target="_blank">BetterDocs theme</a> provided with <i class="fas fa-heart"></i> by 
            <a href="http://softwarebrothers.co" target="_blank">SoftwareBrothers - JavaScript Development Agency</a>
        </p>
    </div>
</footer>


<script src="scripts/app.min.js"></script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
